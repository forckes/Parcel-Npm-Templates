{"id":"Wtje","dependencies":[{"name":"C:\\Users\\User\\Desktop\\JS_start\\Модуль_10_1\\package.json","includedInParent":true,"mtime":1677007536334},{"name":"lodash.throttle","loc":{"line":1,"column":25,"index":25},"parent":"C:\\Users\\User\\Desktop\\JS_start\\Модуль_10_1\\src\\js\\02-feedback.js","resolved":"C:\\Users\\User\\Desktop\\JS_start\\Модуль_10_1\\node_modules\\lodash.throttle\\index.js"},{"name":"../css/common.css","loc":{"line":2,"column":7,"index":53},"parent":"C:\\Users\\User\\Desktop\\JS_start\\Модуль_10_1\\src\\js\\02-feedback.js","resolved":"C:\\Users\\User\\Desktop\\JS_start\\Модуль_10_1\\src\\css\\common.css"},{"name":"../css/feedback.css","loc":{"line":3,"column":7,"index":82},"parent":"C:\\Users\\User\\Desktop\\JS_start\\Модуль_10_1\\src\\js\\02-feedback.js","resolved":"C:\\Users\\User\\Desktop\\JS_start\\Модуль_10_1\\src\\css\\feedback.css"}],"generated":{"js":"\"use strict\";require(\"../css/common.css\"),require(\"../css/feedback.css\");var e=require(\"lodash.throttle\"),t=\"feedbackmsg\",a={},r={form:document.querySelector(\".js-feedback-form\"),input:document.querySelector(\"[name='name']\"),textarea:document.querySelector(\".js-feedback-form textarea\"),modal:document.querySelector(\".modal-message\")};r.form.addEventListener(\"click\",s);var o=e(c,200);function s(e){if(e.preventDefault(),\"BUTTON\"===e.target.nodeName){setTimeout(function(){r.modal.classList.remove(\"successful\")},2500);e.currentTarget.reset(),localStorage.removeItem(t),r.modal.classList.add(\"successful\"),console.log(\"send form\")}}function c(e){var r=e.target.value;a[e.target.name]=r,localStorage.setItem(t,JSON.stringify(a))}function m(){var e=localStorage.getItem(t);if(e){var a=JSON.parse(e);r.input.value=a.name,r.textarea.value=a.message}}r.form.addEventListener(\"input\",o),m();"},"sourceMaps":{"js":{"mappings":[{"source":"js/02-feedback.js","original":{"line":50,"column":0},"generated":{"line":1,"column":0}},{"source":"js/02-feedback.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"js/02-feedback.js","original":{"line":2,"column":0},"generated":{"line":1,"column":21}},{"source":"js/02-feedback.js","name":"require","original":{"line":3,"column":0},"generated":{"line":1,"column":42}},{"source":"js/02-feedback.js","original":{"line":3,"column":0},"generated":{"line":1,"column":50}},{"source":"js/02-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":73}},{"source":"js/02-feedback.js","name":"throttle","original":{"line":1,"column":6},"generated":{"line":1,"column":77}},{"source":"js/02-feedback.js","name":"require","original":{"line":1,"column":17},"generated":{"line":1,"column":79}},{"source":"js/02-feedback.js","original":{"line":1,"column":25},"generated":{"line":1,"column":87}},{"source":"js/02-feedback.js","name":"STORAGE_KEY","original":{"line":5,"column":6},"generated":{"line":1,"column":106}},{"source":"js/02-feedback.js","original":{"line":5,"column":20},"generated":{"line":1,"column":108}},{"source":"js/02-feedback.js","name":"formData","original":{"line":7,"column":6},"generated":{"line":1,"column":122}},{"source":"js/02-feedback.js","original":{"line":7,"column":17},"generated":{"line":1,"column":124}},{"source":"js/02-feedback.js","name":"refs","original":{"line":9,"column":6},"generated":{"line":1,"column":127}},{"source":"js/02-feedback.js","original":{"line":9,"column":13},"generated":{"line":1,"column":129}},{"source":"js/02-feedback.js","name":"form","original":{"line":10,"column":2},"generated":{"line":1,"column":130}},{"source":"js/02-feedback.js","name":"document","original":{"line":10,"column":8},"generated":{"line":1,"column":135}},{"source":"js/02-feedback.js","name":"querySelector","original":{"line":10,"column":17},"generated":{"line":1,"column":144}},{"source":"js/02-feedback.js","original":{"line":10,"column":31},"generated":{"line":1,"column":158}},{"source":"js/02-feedback.js","name":"input","original":{"line":11,"column":2},"generated":{"line":1,"column":179}},{"source":"js/02-feedback.js","name":"document","original":{"line":11,"column":9},"generated":{"line":1,"column":185}},{"source":"js/02-feedback.js","name":"querySelector","original":{"line":11,"column":18},"generated":{"line":1,"column":194}},{"source":"js/02-feedback.js","original":{"line":11,"column":32},"generated":{"line":1,"column":208}},{"source":"js/02-feedback.js","name":"textarea","original":{"line":12,"column":2},"generated":{"line":1,"column":225}},{"source":"js/02-feedback.js","name":"document","original":{"line":12,"column":12},"generated":{"line":1,"column":234}},{"source":"js/02-feedback.js","name":"querySelector","original":{"line":12,"column":21},"generated":{"line":1,"column":243}},{"source":"js/02-feedback.js","original":{"line":12,"column":35},"generated":{"line":1,"column":257}},{"source":"js/02-feedback.js","name":"modal","original":{"line":13,"column":2},"generated":{"line":1,"column":287}},{"source":"js/02-feedback.js","name":"document","original":{"line":13,"column":9},"generated":{"line":1,"column":293}},{"source":"js/02-feedback.js","name":"querySelector","original":{"line":13,"column":18},"generated":{"line":1,"column":302}},{"source":"js/02-feedback.js","original":{"line":13,"column":32},"generated":{"line":1,"column":316}},{"source":"js/02-feedback.js","name":"refs","original":{"line":16,"column":0},"generated":{"line":1,"column":335}},{"source":"js/02-feedback.js","name":"form","original":{"line":16,"column":5},"generated":{"line":1,"column":337}},{"source":"js/02-feedback.js","name":"addEventListener","original":{"line":16,"column":10},"generated":{"line":1,"column":342}},{"source":"js/02-feedback.js","original":{"line":16,"column":27},"generated":{"line":1,"column":359}},{"source":"js/02-feedback.js","name":"onFormSumbit","original":{"line":16,"column":36},"generated":{"line":1,"column":367}},{"source":"js/02-feedback.js","original":{"line":18,"column":0},"generated":{"line":1,"column":370}},{"source":"js/02-feedback.js","name":"throtledMessage","original":{"line":18,"column":6},"generated":{"line":1,"column":374}},{"source":"js/02-feedback.js","name":"throttle","original":{"line":18,"column":24},"generated":{"line":1,"column":376}},{"source":"js/02-feedback.js","name":"onInput","original":{"line":18,"column":33},"generated":{"line":1,"column":378}},{"source":"js/02-feedback.js","original":{"line":18,"column":42},"generated":{"line":1,"column":380}},{"source":"js/02-feedback.js","original":{"line":23,"column":0},"generated":{"line":1,"column":385}},{"source":"js/02-feedback.js","name":"onFormSumbit","original":{"line":23,"column":9},"generated":{"line":1,"column":394}},{"source":"js/02-feedback.js","name":"e","original":{"line":23,"column":22},"generated":{"line":1,"column":396}},{"source":"js/02-feedback.js","original":{"line":25,"column":2},"generated":{"line":1,"column":399}},{"source":"js/02-feedback.js","name":"e","original":{"line":24,"column":2},"generated":{"line":1,"column":402}},{"source":"js/02-feedback.js","name":"preventDefault","original":{"line":24,"column":4},"generated":{"line":1,"column":404}},{"source":"js/02-feedback.js","original":{"line":25,"column":28},"generated":{"line":1,"column":421}},{"source":"js/02-feedback.js","name":"e","original":{"line":25,"column":6},"generated":{"line":1,"column":432}},{"source":"js/02-feedback.js","name":"target","original":{"line":25,"column":8},"generated":{"line":1,"column":434}},{"source":"js/02-feedback.js","name":"nodeName","original":{"line":25,"column":15},"generated":{"line":1,"column":441}},{"source":"js/02-feedback.js","original":{"line":25,"column":2},"generated":{"line":1,"column":450}},{"source":"js/02-feedback.js","name":"setTimeout","original":{"line":28,"column":20},"generated":{"line":1,"column":451}},{"source":"js/02-feedback.js","original":{"line":32,"column":2},"generated":{"line":1,"column":462}},{"source":"js/02-feedback.js","name":"refs","original":{"line":33,"column":4},"generated":{"line":1,"column":473}},{"source":"js/02-feedback.js","name":"modal","original":{"line":33,"column":9},"generated":{"line":1,"column":475}},{"source":"js/02-feedback.js","name":"classList","original":{"line":33,"column":15},"generated":{"line":1,"column":481}},{"source":"js/02-feedback.js","name":"remove","original":{"line":33,"column":25},"generated":{"line":1,"column":491}},{"source":"js/02-feedback.js","original":{"line":33,"column":32},"generated":{"line":1,"column":498}},{"source":"js/02-feedback.js","original":{"line":28,"column":44},"generated":{"line":1,"column":513}},{"source":"js/02-feedback.js","name":"e","original":{"line":29,"column":2},"generated":{"line":1,"column":519}},{"source":"js/02-feedback.js","name":"currentTarget","original":{"line":29,"column":4},"generated":{"line":1,"column":521}},{"source":"js/02-feedback.js","name":"reset","original":{"line":29,"column":18},"generated":{"line":1,"column":535}},{"source":"js/02-feedback.js","name":"localStorage","original":{"line":30,"column":2},"generated":{"line":1,"column":543}},{"source":"js/02-feedback.js","name":"removeItem","original":{"line":30,"column":15},"generated":{"line":1,"column":556}},{"source":"js/02-feedback.js","name":"STORAGE_KEY","original":{"line":30,"column":26},"generated":{"line":1,"column":567}},{"source":"js/02-feedback.js","name":"refs","original":{"line":31,"column":2},"generated":{"line":1,"column":570}},{"source":"js/02-feedback.js","name":"modal","original":{"line":31,"column":7},"generated":{"line":1,"column":572}},{"source":"js/02-feedback.js","name":"classList","original":{"line":31,"column":13},"generated":{"line":1,"column":578}},{"source":"js/02-feedback.js","name":"add","original":{"line":31,"column":23},"generated":{"line":1,"column":588}},{"source":"js/02-feedback.js","original":{"line":31,"column":27},"generated":{"line":1,"column":592}},{"source":"js/02-feedback.js","name":"console","original":{"line":36,"column":2},"generated":{"line":1,"column":606}},{"source":"js/02-feedback.js","name":"log","original":{"line":36,"column":10},"generated":{"line":1,"column":614}},{"source":"js/02-feedback.js","original":{"line":36,"column":14},"generated":{"line":1,"column":618}},{"source":"js/02-feedback.js","original":{"line":38,"column":0},"generated":{"line":1,"column":632}},{"source":"js/02-feedback.js","name":"onInput","original":{"line":38,"column":9},"generated":{"line":1,"column":641}},{"source":"js/02-feedback.js","name":"e","original":{"line":38,"column":17},"generated":{"line":1,"column":643}},{"source":"js/02-feedback.js","original":{"line":39,"column":2},"generated":{"line":1,"column":646}},{"source":"js/02-feedback.js","name":"message","original":{"line":39,"column":8},"generated":{"line":1,"column":650}},{"source":"js/02-feedback.js","name":"e","original":{"line":39,"column":18},"generated":{"line":1,"column":652}},{"source":"js/02-feedback.js","name":"target","original":{"line":39,"column":20},"generated":{"line":1,"column":654}},{"source":"js/02-feedback.js","name":"value","original":{"line":39,"column":27},"generated":{"line":1,"column":661}},{"source":"js/02-feedback.js","name":"formData","original":{"line":40,"column":2},"generated":{"line":1,"column":667}},{"source":"js/02-feedback.js","name":"e","original":{"line":40,"column":11},"generated":{"line":1,"column":669}},{"source":"js/02-feedback.js","name":"target","original":{"line":40,"column":13},"generated":{"line":1,"column":671}},{"source":"js/02-feedback.js","name":"name","original":{"line":40,"column":20},"generated":{"line":1,"column":678}},{"source":"js/02-feedback.js","name":"message","original":{"line":40,"column":28},"generated":{"line":1,"column":684}},{"source":"js/02-feedback.js","name":"localStorage","original":{"line":41,"column":2},"generated":{"line":1,"column":686}},{"source":"js/02-feedback.js","name":"setItem","original":{"line":41,"column":15},"generated":{"line":1,"column":699}},{"source":"js/02-feedback.js","name":"STORAGE_KEY","original":{"line":41,"column":23},"generated":{"line":1,"column":707}},{"source":"js/02-feedback.js","name":"JSON","original":{"line":41,"column":36},"generated":{"line":1,"column":709}},{"source":"js/02-feedback.js","name":"stringify","original":{"line":41,"column":41},"generated":{"line":1,"column":714}},{"source":"js/02-feedback.js","name":"formData","original":{"line":41,"column":51},"generated":{"line":1,"column":724}},{"source":"js/02-feedback.js","original":{"line":43,"column":0},"generated":{"line":1,"column":728}},{"source":"js/02-feedback.js","name":"onPopulateTextarea","original":{"line":43,"column":9},"generated":{"line":1,"column":737}},{"source":"js/02-feedback.js","original":{"line":44,"column":2},"generated":{"line":1,"column":741}},{"source":"js/02-feedback.js","name":"savedMessage","original":{"line":44,"column":8},"generated":{"line":1,"column":745}},{"source":"js/02-feedback.js","name":"localStorage","original":{"line":44,"column":23},"generated":{"line":1,"column":747}},{"source":"js/02-feedback.js","name":"getItem","original":{"line":44,"column":36},"generated":{"line":1,"column":760}},{"source":"js/02-feedback.js","name":"STORAGE_KEY","original":{"line":44,"column":44},"generated":{"line":1,"column":768}},{"source":"js/02-feedback.js","original":{"line":45,"column":2},"generated":{"line":1,"column":771}},{"source":"js/02-feedback.js","name":"savedMessage","original":{"line":45,"column":6},"generated":{"line":1,"column":774}},{"source":"js/02-feedback.js","original":{"line":45,"column":20},"generated":{"line":1,"column":776}},{"source":"js/02-feedback.js","original":{"line":46,"column":4},"generated":{"line":1,"column":777}},{"source":"js/02-feedback.js","name":"parsedForm","original":{"line":46,"column":10},"generated":{"line":1,"column":781}},{"source":"js/02-feedback.js","name":"JSON","original":{"line":46,"column":23},"generated":{"line":1,"column":783}},{"source":"js/02-feedback.js","name":"parse","original":{"line":46,"column":28},"generated":{"line":1,"column":788}},{"source":"js/02-feedback.js","name":"savedMessage","original":{"line":46,"column":34},"generated":{"line":1,"column":794}},{"source":"js/02-feedback.js","name":"refs","original":{"line":47,"column":4},"generated":{"line":1,"column":797}},{"source":"js/02-feedback.js","name":"input","original":{"line":47,"column":9},"generated":{"line":1,"column":799}},{"source":"js/02-feedback.js","name":"value","original":{"line":47,"column":15},"generated":{"line":1,"column":805}},{"source":"js/02-feedback.js","name":"parsedForm","original":{"line":47,"column":23},"generated":{"line":1,"column":811}},{"source":"js/02-feedback.js","name":"name","original":{"line":47,"column":34},"generated":{"line":1,"column":813}},{"source":"js/02-feedback.js","name":"refs","original":{"line":48,"column":4},"generated":{"line":1,"column":818}},{"source":"js/02-feedback.js","name":"textarea","original":{"line":48,"column":9},"generated":{"line":1,"column":820}},{"source":"js/02-feedback.js","name":"value","original":{"line":48,"column":18},"generated":{"line":1,"column":829}},{"source":"js/02-feedback.js","name":"parsedForm","original":{"line":48,"column":26},"generated":{"line":1,"column":835}},{"source":"js/02-feedback.js","name":"message","original":{"line":48,"column":37},"generated":{"line":1,"column":837}},{"source":"js/02-feedback.js","name":"refs","original":{"line":19,"column":0},"generated":{"line":1,"column":846}},{"source":"js/02-feedback.js","name":"form","original":{"line":19,"column":5},"generated":{"line":1,"column":848}},{"source":"js/02-feedback.js","name":"addEventListener","original":{"line":19,"column":10},"generated":{"line":1,"column":853}},{"source":"js/02-feedback.js","original":{"line":19,"column":27},"generated":{"line":1,"column":870}},{"source":"js/02-feedback.js","name":"throtledMessage","original":{"line":19,"column":36},"generated":{"line":1,"column":878}},{"source":"js/02-feedback.js","name":"onPopulateTextarea","original":{"line":21,"column":0},"generated":{"line":1,"column":881}}],"sources":{"js/02-feedback.js":"const throttle = require(\"lodash.throttle\");\r\nimport \"../css/common.css\";\r\nimport \"../css/feedback.css\";\r\n\r\nconst STORAGE_KEY = \"feedbackmsg\";\r\n\r\nconst formData = {};\r\n\r\nconst refs = {\r\n  form: document.querySelector(\".js-feedback-form\"),\r\n  input: document.querySelector(\"[name='name']\"),\r\n  textarea: document.querySelector(\".js-feedback-form textarea\"),\r\n  modal: document.querySelector(\".modal-message\"),\r\n};\r\n\r\nrefs.form.addEventListener(\"click\", onFormSumbit);\r\n\r\nconst throtledMessage = throttle(onInput, 200);\r\nrefs.form.addEventListener(\"input\", throtledMessage);\r\n\r\nonPopulateTextarea();\r\n\r\nfunction onFormSumbit(e) {\r\n  e.preventDefault();\r\n  if (e.target.nodeName !== \"BUTTON\") {\r\n    return;\r\n  }\r\n  const myTimeout = setTimeout(removeClass, 2500);\r\n  e.currentTarget.reset();\r\n  localStorage.removeItem(STORAGE_KEY);\r\n  refs.modal.classList.add(\"successful\");\r\n  function removeClass() {\r\n    refs.modal.classList.remove(\"successful\");\r\n  }\r\n\r\n  console.log(\"send form\");\r\n}\r\nfunction onInput(e) {\r\n  const message = e.target.value;\r\n  formData[e.target.name] = message;\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\r\n}\r\nfunction onPopulateTextarea() {\r\n  const savedMessage = localStorage.getItem(STORAGE_KEY);\r\n  if (savedMessage) {\r\n    const parsedForm = JSON.parse(savedMessage);\r\n    refs.input.value = parsedForm.name;\r\n    refs.textarea.value = parsedForm.message;\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"1dc9c98afb5c839c99181d328db6e511","cacheData":{"env":{}}}